<?xml version="1.0" encoding="UTF-8" ?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://www.w3.org/1999/html" lang="en"
      xmlns:v="http://typo3.org/ns/FluidTYPO3/Vhs/ViewHelpers"
      v:schemaLocation="https://fluidtypo3.org/schemas/vhs-master.xsd">
<head>
    <title>Partials: List/Default</title>
</head>
<body>
<f:section name="Main">
    <f:comment>
    <!--
        =====================
            Display/List.html

            object projects:
                  validationState => protected1 (integer)
                  passwordHash => protected'$pbkdf2-sha256$25000$Ks0B2069nvdnq2sbTD/b3g$rEj2ET8sI0nl76rgpKKnHXXLxhBXizBL
                     RHdn0JcxJEk' (87 chars)
                  password => protectedNULL
                  institutions => protectedTYPO3\CMS\Extbase\Persistence\ObjectStorageprototypeobject (3 items)
                  location => protected'Ort01' (5 chars)
                  contactEmail => protected'test01@klickdienst.de' (21 chars)
                  showInMap => protectedFALSE
                  hypos => protectedFALSE
                  orig => protectedNULL
                  researchprogram => protected'' (0 chars)
                  demoProject => protectedTRUE
                  uid => protected40 (integer)
                  _localizedUid => protected40 (integer)modified
                  _languageUid => protectedNULL
                  _versionedUid => protected40 (integer)modified
                  pid => protected245 (integer)
                  contactPerson => protected'Anpsprech01' (11 chars)
                  description => protected'Beschreibung 01' (15 chars)
                  link => protected'www.link-01.de' (14 chars)
                  overallVolume => protected'Gesamt01' (8 chars)
                  publications => protectedTYPO3\CMS\Extbase\Persistence\Generic\LazyObjectStorageprototypeobject (empty)
                  region => protectedAlexGunkel\ProjectOrganizer\Domain\Model\Regionprototypepersistent object (uid=1, pid=245)
                  researchprograms => protectedNULL
                  runtimeStart => protected'1529884800' (10 chars)
                  runtimeEnd => protected'1533340800' (10 chars)
                  status => protectedAlexGunkel\ProjectOrganizer\Domain\Model\Statusprototypepersistent object (uid=2, pid=245)
                  title => protected'Testprojekt 01' (14 chars)
                  topics => protectedTYPO3\CMS\Extbase\Persistence\ObjectStorageprototypeobject (2 items)
                  volume => protected'Volume01' (8 chars)
                  wskelements => protectedTYPO3\CMS\Extbase\Persistence\ObjectStorageprototypeobject (1 items)
                  hidden => protectedFALSE
                  deleted => protectedNULL
                  crDate => protected0 (integer)
                  tstamp => protected




                  #########################


                  HYPOS HALLE POSITION:

                  HYPOS Hydrogen Power Storage &amp; Solutions East Germany e.V.
                  Blücherstraße 26, 06120 Halle (Saale)
                  51.491311, 11.934074


    -->
    </f:comment>
<div class="projectList">
    <div class="row dataTables_wrapper tables-filter">
        <div class="col-md-12">
            <div class="dataTables_filter btn-group" style="">
                <f:form action="list" controller="Editor" pluginName="{pluginName}" objectName="search">
                    <label>
                        <f:if condition="{parameter.search.term}">
                            <f:then>
                                <f:form.textfield
                                    property="term"
                                    type="search"
                                    value="{parameter.search.term}"
                                    additionalAttributes="{class: 'form-control form-control-sm'}" />
                            </f:then>
                            <f:else>
                                <f:form.textfield
                                    property="term"
                                    type="search"
                                    placeholder="{f:translate(key: 'projectList.label.search', extensionName: 'project_organizer')}"
                                    additionalAttributes="{class: 'form-control form-control-sm'}" />
                            </f:else>
                        </f:if>
                    </label>
                </f:form>
            </div>
            <f:comment>Options added by JS !!!</f:comment>
            <div class="btn-group">
                <div class="dropdown" data-filter-target="topic">
                    <button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                        <span class="dropdown-label">{f:translate(key: 'projectList.select.label.topic', extensionName: 'project_organizer')}</span>
                        <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
                        <li>
                            <f:link.action
                                    action="listByTopic"
                                    pluginName="{pluginName}"
                                    pageUid="{listViewPage}">
                                {f:translate(key: 'projectList.label.showall', extensionName: 'project_organizer')}
                            </f:link.action>
                        </li>
                        <li role="separator" class="divider"></li>
                    </ul>
                </div>
            </div>
            <div class="btn-group">
                <div class="dropdown" data-filter-target="status">
                    <button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenu2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                        <span class="dropdown-label">{f:translate(key: 'projectList.label.status', extensionName: 'project_organizer')}</span>
                        <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu" aria-labelledby="dropdownMenu2">
                        <li>
                            <f:link.action
                                    action="listByTopic"
                                    pluginName="{pluginName}"
                                    pageUid="{listViewPage}">
                                {f:translate(key: 'projectList.label.showall', extensionName: 'project_organizer')}
                            </f:link.action>
                        </li>
                        <li role="separator" class="divider"></li>
                    </ul>
                </div>
            </div>
            <div class="btn-group">
                <div class="dropdown" data-filter-target="region">
                    <button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenu3" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                        <span class="dropdown-label">{f:translate(key: 'projectList.label.region', extensionName: 'project_organizer')}</span>
                        <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu" aria-labelledby="dropdownMenu3">
                        <li>
                            <f:link.action
                                    action="listByTopic"
                                    pluginName="{pluginName}"
                                    pageUid="{listViewPage}">
                                {f:translate(key: 'projectList.label.showall', extensionName: 'project_organizer')}
                            </f:link.action>
                        </li>
                        <li role="separator" class="divider"></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <table class="table table-style1 table-striped table-sortable table-filter">
        <thead>
            <tr>
                <th scope="col">{f:translate(key: 'projectList.label.title', extensionName: 'project_organizer')}</th>
                <th scope="col" data-filter-id="topic">{f:translate(key: 'projectList.label.topic', extensionName: 'project_organizer')}</th>
                <th scope="col">{f:translate(key: 'projectList.label.runtime', extensionName: 'project_organizer')}</th>
                <th scope="col" data-filter-id="status">{f:translate(key: 'projectList.label.status', extensionName: 'project_organizer')}</th>
                <th scope="col" data-filter-id="region">{f:translate(key: 'projectList.label.region', extensionName: 'project_organizer')}</th>
            </tr>
        </thead>
            <tbody>
            <f:for each="{projects}" as="project">
                <tr>
                    <td>
                        <f:link.action action="detail" pluginName="{pluginName}" arguments="{uid:project.uid}" pageUid="{detailViewPage}">
                            {project.title}
                        </f:link.action>
                    </td>
                    <td data-filter-id="topic">
                        <f:for each="{project.topics}" as="topic" iteration="iterator">
                            <f:link.action
                                    action="listByTopic"
                                    arguments="{topics:topic.uid}"
                                    pluginName="{pluginName}"
                                    pageUid="{listViewPage}"
                                    class="filter-item">
                                {topic.title}{f:if(then: '', else: ', ', condition: '{iterator.isLast}')}
                            </f:link.action>
                        </f:for>
                    </td>
                    <td><f:format.date format="d.m.Y">{project.runtimeEnd}</f:format.date></td>
                    <td data-filter-id="status">
                        <f:link.action
                                action="listByTopic"
                                arguments="{status:project.status.uid}"
                                pluginName="{pluginName}"
                                pageUid="{listViewPage}"
                                class="filter-item">
                            {project.status.title}
                        </f:link.action>
                    </td>
                    <td data-filter-id="region">
                        <f:link.action
                                action="listByTopic"
                                arguments="{region:project.region.uid}"
                                pluginName="{pluginName}"
                                pageUid="{listViewPage}"
                                class="filter-item">
                            {project.region.title}
                        </f:link.action>
                    </td>
                </tr>
            </f:for>
        </tbody>
    </table>
    <div class="container-fluid">
        <p class="btn-spacy">
            <a class="btn btn-primary" href="/projects/">{f:translate(key: 'projectDetail.title.overview', extensionName: 'project_organizer')}</a>
            <f:if condition="{addNewProjectPage}">
                <f:link.page pageUid="{addNewProjectPage}" class="btn btn-primary">{f:translate(key: 'projectDetail.title.addNewProject', extensionName: 'project_organizer')}</f:link.page>
            </f:if>
            <f:comment>
                <f:if condition="{user} || {be_user}">
                    <f:link.action action="list" arguments="{csv: true}" pluginName="{pluginName}" class="btn btn-defaut f-right">Download CSV</f:link.action>
                </f:if>
            </f:comment>
        </p>
    </div>
</div>
<f:render partial="TableSortScript" section="Main" />
</f:section>
</body>
</html>